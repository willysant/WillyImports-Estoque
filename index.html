<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Controle de Estoque Willy</title>
  <link rel="stylesheet" href="style.css"/>
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="logo.png" type="image/png">
  <meta name="theme-color" content="#3399ff"/>
</head>
<body>
  <h1>Controle de Estoque Willy</h1>

  <!-- Formulário -->
  <form id="product-form">
    <input type="text" id="name" placeholder="Nome do produto" required/>
    <input type="text" id="category" placeholder="Categoria"/>
    <input type="number" id="quantity" placeholder="Quantidade" required/>
    <input type="number" id="cost" placeholder="Preço de custo" required/>
    <input type="number" id="price" placeholder="Preço de venda" required/>
    <button type="submit">Adicionar Produto</button>
  </form>

  <!-- Botões Extras -->
  <input type="text" id="search" placeholder="🔍 Buscar produto ou categoria" />
  <button id="export-btn">📄 Exportar Estoque (CSV)</button>

  <hr/>

  <!-- Tabela -->
  <h2>Estoque</h2>
  <table id="inventory">
    <thead>
      <tr>
        <th>Produto</th>
        <th>Categoria</th>
        <th>Qtd</th>
        <th>Custo</th>
        <th>Venda</th>
        <th>Data</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <!-- Painel de Totais -->
  <div id="totals">
    <p><strong>Total de produtos:</strong> <span id="total-products">0</span></p>
    <p><strong>Valor total de custo:</strong> R$ <span id="total-cost">0.00</span></p>
    <p><strong>Valor total de venda:</strong> R$ <span id="total-price">0.00</span></p>
    <p><strong>Lucro bruto estimado:</strong> R$ <span id="total-profit">0.00</span></p>
  </div>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js')
        .then(() => console.log('Service Worker registrado!'));
    }
  </script>
  <script src="script.js"></script>
</body>
</html>
